<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mini Lecteur</title>
<style>
  :root{
    --bg:#f5efe6; --ink:#4e453a; --ink-soft:#6b5b4a;
    --track:#e8dfd3; --fill:#b79f84;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:transparent}
  .player{width:300px;height:56px;background:var(--bg);color:var(--ink);
    border-radius:14px;display:flex;align-items:center;gap:10px;
    padding:10px 12px;font:500 13px/1 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
    box-shadow:0 1px 4px rgba(0,0,0,.06), inset 0 0 0 1px rgba(0,0,0,.04)}
  .btn{width:32px;height:32px;border-radius:999px;background:var(--track);
    display:grid;place-items:center;cursor:pointer;user-select:none;transition:transform .08s}
  .btn:active{transform:scale(.96)}
  .icon{width:0;height:0;border-style:solid}
  .icon.play{border-width:7px 0 7px 12px;border-color:transparent transparent transparent var(--ink-soft);margin-left:2px}
  .icon.pause{width:12px;height:12px;border:none;display:flex;gap:3px}
  .icon.pause span{width:4px;height:12px;background:var(--ink-soft);display:block;border-radius:1px}
  .track{flex:1;display:flex;flex-direction:column;gap:6px;min-width:0}
  .bar{position:relative;width:100%;height:8px;background:var(--track);border-radius:999px;overflow:hidden}
  .fill{position:absolute;left:0;top:0;height:100%;width:0%;background:var(--fill)}
  .scrub{-webkit-appearance:none;appearance:none;position:absolute;inset:0;width:100%;height:100%;background:transparent;cursor:pointer}
  .scrub::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;border-radius:999px;background:var(--ink-soft);border:2px solid var(--bg);box-shadow:0 0 0 2px var(--fill);margin-top:-3px}
  .time{display:flex;justify-content:space-between;font-size:12px;opacity:.85}
  .hidden{display:none !important}
</style>
</head>
<body>
  <div class="player" role="group" aria-label="Lecteur audio">
    <button class="btn" id="toggle" aria-label="Lecture">
      <div class="icon play" id="iconPlay"></div>
      <div class="icon pause hidden" id="iconPause"><span></span><span></span></div>
    </button>
    <div class="track">
      <div class="bar">
        <div class="fill" id="fill"></div>
        <input type="range" min="0" max="100" value="0" step="0.1" id="scrub" class="scrub" aria-label="Barre de progression">
      </div>
      <div class="time"><span id="now">00:00</span><span id="dur">--:--</span></div>
    </div>
  </div>

  <audio id="audio" preload="metadata">
    <source src="sombr back to friends official video.mp3" type="audio/mpeg">
  </audio>

<script>
  const audio = document.getElementById('audio');
  const toggle = document.getElementById('toggle');
  const iconPlay = document.getElementById('iconPlay');
  const iconPause = document.getElementById('iconPause');
  const fill = document.getElementById('fill');
  const scrub = document.getElementById('scrub');
  const now = document.getElementById('now');
  const dur = document.getElementById('dur');

  const fmt = s => !isFinite(s) ? '--:--' :
    String(Math.floor(s/60)).padStart(2,'0')+':'+String(Math.floor(s%60)).padStart(2,'0');

  audio.addEventListener('loadedmetadata', () => dur.textContent = fmt(audio.duration));
  const setIcons = playing => { iconPlay.classList.toggle('hidden', playing); iconPause.classList.toggle('hidden', !playing); };

  toggle.addEventListener('click', () => { if (audio.paused){ audio.play(); setIcons(true);} else { audio.pause(); setIcons(false);} });
  audio.addEventListener('timeupdate', () => {
    const p = (audio.currentTime / (audio.duration || 1)) * 100;
    fill.style.width = p + '%'; scrub.value = p; now.textContent = fmt(audio.currentTime);
  });
  scrub.addEventListener('input', e => { const p = Number(e.target.value)/100; audio.currentTime = p * (audio.duration || 0); });
  audio.addEventListener('ended', () => setIcons(false));
</script>
</body>
</html>
